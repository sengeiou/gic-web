webpackJsonp([125,142],{"6iV/":function(e,t,r){"use strict";var a=r("H9GB"),o=r("Ml8i"),i=r("qFr1");e.exports={formats:i,parse:o,stringify:a}},EwKy:function(e,t){var r=window.location.origin;e.exports={config:r}},H9GB:function(e,t,r){"use strict";var a=r("JNAD"),o=r("qFr1"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,o,i,n,l,c,u,p,d,f,v){var m=t;if("function"==typeof c)m=c(r,m);else if(m instanceof Date)m=d(m);else if(null===m){if(i)return l&&!v?l(r,s.encoder):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||a.isBuffer(m))return l?[f(v?r:l(r,s.encoder))+"="+f(l(m,s.encoder))]:[f(r)+"="+f(String(m))];var h,g=[];if(void 0===m)return g;if(Array.isArray(c))h=c;else{var b=Object.keys(m);h=u?b.sort(u):b}for(var y=0;y<h.length;++y){var w=h[y];n&&null===m[w]||(g=Array.isArray(m)?g.concat(e(m[w],o(r,w),o,i,n,l,c,u,p,d,f,v)):g.concat(e(m[w],r+(p?"."+w:"["+w+"]"),o,i,n,l,c,u,p,d,f,v)))}return g};e.exports=function(e,t){var r=e,n=t?a.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===n.delimiter?s.delimiter:n.delimiter,u="boolean"==typeof n.strictNullHandling?n.strictNullHandling:s.strictNullHandling,p="boolean"==typeof n.skipNulls?n.skipNulls:s.skipNulls,d="boolean"==typeof n.encode?n.encode:s.encode,f="function"==typeof n.encoder?n.encoder:s.encoder,v="function"==typeof n.sort?n.sort:null,m=void 0!==n.allowDots&&n.allowDots,h="function"==typeof n.serializeDate?n.serializeDate:s.serializeDate,g="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:s.encodeValuesOnly;if(void 0===n.format)n.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");var b,y,w=o.formatters[n.format];"function"==typeof n.filter?r=(y=n.filter)("",r):Array.isArray(n.filter)&&(b=y=n.filter);var _,C=[];if("object"!=typeof r||null===r)return"";_=n.arrayFormat in i?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var j=i[_];b||(b=Object.keys(r)),v&&b.sort(v);for(var x=0;x<b.length;++x){var P=b[x];p&&null===r[P]||(C=C.concat(l(r[P],P,j,u,p,d?f:null,y,v,m,h,w,g)))}var O=C.join(c),k=!0===n.addQueryPrefix?"?":"";return O.length>0?k+O:""}},JNAD:function(e,t,r){"use strict";var a=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)void 0!==e[a]&&(r[a]=e[a]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],a=0;a<t.length;++a)for(var o=t[a],i=o.obj[o.prop],n=Object.keys(i),s=0;s<n.length;++s){var l=n[s],c=i[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:l}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var a=[],o=0;o<t.length;++o)void 0!==t[o]&&a.push(t[o]);r.obj[r.prop]=a}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",a=0;a<t.length;++a){var i=t.charCodeAt(a);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(a):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(a+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(a)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o.plainObjects||o.allowPrototypes||!a.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var n=t;return Array.isArray(t)&&!Array.isArray(r)&&(n=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){a.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var n=r[i];return a.call(t,i)?t[i]=e(t[i],n,o):t[i]=n,t},n)}}},Ml8i:function(e,t,r){"use strict";var a=r("JNAD"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t,r){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(a),s=n?a.slice(0,n.index):a,l=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var c=0;null!==(n=i.exec(a))&&c<r.depth;){if(c+=1,!r.plainObjects&&o.call(Object.prototype,n[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(n[1])}return n&&l.push("["+a.slice(n.index)+"]"),function(e,t,r){for(var a=t,o=e.length-1;o>=0;--o){var i,n=e[o];if("[]"===n)i=(i=[]).concat(a);else{i=r.plainObjects?Object.create(null):{};var s="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,l=parseInt(s,10);!isNaN(l)&&n!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(i=[])[l]=a:i[s]=a}a=i}return a}(l,t,r)}};e.exports=function(e,t){var r=t?a.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||a.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var r={},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=t.parameterLimit===1/0?void 0:t.parameterLimit,s=a.split(t.delimiter,n),l=0;l<s.length;++l){var c,u,p=s[l],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(c=t.decoder(p,i.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,f),i.decoder),u=t.decoder(p.slice(f+1),i.decoder)),o.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(s),u=0;u<c.length;++u){var p=c[u],d=n(p,s[p],r);l=a.merge(l,d,r)}return a.compact(l)}},WYmP:function(e,t){},eLcw:function(e,t){},gNcl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("ihQc"),o=r("EwKy"),i=r.n(o),n=r("6iV/"),s={name:"shop_recycle_member",data:function(){return{bodyHeight:document.body.clientHeight||document.documentElement.clientHeight,navpath:[{name:"企业管理",path:""},{name:"企业资料",path:""},{name:"门店管理",path:""},{name:"门店列表",path:"/shop_list"},{name:"批量导入门店",path:""}],navtab:[{name:"导入门店",tab:2},{name:"错误日志",tab:3}],activeitem:2,loading:!1,tableData:[],total:0,error:0,success:0,uuId:"",excelName:"",processData:0,uuIdFlag:"",uuIdFlagBool:!1,errorProcessBool:!1,timer:"",timer1:"",totalCount:0,currentPage:1,pageSize:20}},created:function(){this.getImportFlag()},mounted:function(){var e=this;window.onresize=function(){e.bodyHeight=document.body.clientHeight||document.documentElement.clientHeight}},methods:{getCurTab:function(e){this.activeitem=e,"3"==e&&this.getErrorList()},getImportFlag:function(){var e=this,t=this;t.axios.get("/api-admin/get-importing-task-key",{params:{requestProject:"gic-web"}}).then(function(r){var a=r.data;console.log(a),0==a.errorCode&&(t.uuIdFlag=a.result,""==t.uuIdFlag||(e.uuIdFlagBool=!0,e.timer=setInterval(function(){t.getProcess(t.uuIdFlag)},1e3)))})},getProcess:function(e){var t=this;this.axios.get("/api-admin/get_store_batch_process",{params:{requestProject:"gic-web",uuId:e}}).then(function(e){var r=e.data;console.log(r),0==r.errorCode&&(t.processData=r.result.process,100==t.processData&&(clearInterval(t.timer),clearInterval(t.timer1),t.$message.success("导入成功")))})},downloadFile:function(){var e=this;this.axios.get("/api-admin/store-import-template-download",{params:{requestProject:"gic-web"}}).then(function(t){var r=t.data;r.errorCode?e.$message({type:"error",message:r.message}):window.location.href=i.a.config+"/api-admin/store-import-template-download?requestProject=gic-web"})},beforeTextUpload:function(e){var t=this,r=this;r.uuIdFlagBool=!1,r.errorProcessBool=!1,r.processData=0,console.log(e),r.getUuid();var a=new FormData;return a.append("file",e),a.append("uuId",this.uuId),a.append("requestProject","gic-web"),r.axios.post("/api-admin/store-tmp-file-upload",a).then(function(a){var o=a.data;console.log(o),0==o.errorCode?(r.excelName=e.name,r.$message({type:"success",message:"上传成功"}),t.uuIdFlagBool=!0,null==o.result?t.timer1=setInterval(function(){r.getProcess(r.uuId)},1e3):(t.timer1="",r.processData=100,r.errorProcessBool=!0)):r.$message({type:"error",message:o.message})}),!0},handleTextSuccess:function(e,t){},getUuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",this.uuId=e.join(""),this.uuId},getErrorList:function(){var e=this;this.loading=!0,this.axios.post("/api-admin/store-import-load-error-data",n.stringify({requestProject:"gic-web",currentPage:this.currentPage,pageSize:this.pageSize})).then(function(t){var r=t.data;console.log(r),e.loading=!1,0==r.errorCode?(e.tableData=r.result.errorData.result,e.total=r.result.total,e.error=r.result.error,e.success=r.result.success,e.totalCount=r.result.errorData.totalCount):e.$message.error(r.message)})},importErrorData:function(){var e=this;this.axios.get("/api-admin/export-error-data",{params:{requestProject:"gic-web"}}).then(function(t){var r=t.data;r.errorCode?e.$message({type:"error",message:r.message}):window.location.href=i.a.config+"/api-admin/export-error-data?requestProject=gic-web"})},handleSizeChange:function(e){this.pageSize=e,this.getErrorList()},handleCurrentChange:function(e){this.currentPage=e,this.getErrorList()}},components:{navbar:a.default}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"right-wrap",style:{minHeight:e.bodyHeight-164+"px"}},[r("navbar",{attrs:{activeitem:e.activeitem,navpath:e.navpath,navtab:e.navtab},on:{getCurTab:e.getCurTab}}),e._v(" "),r("div",{staticClass:"right-content"},[r("div",{directives:[{name:"show",rawName:"v-show",value:2==e.activeitem,expression:"activeitem==2"}],staticClass:"right-box"},[e._m(0),e._v(" "),r("h2",{staticClass:"begin-title"},[e._v("开始批量导入门店")]),e._v(" "),r("div",{staticClass:"step-wrap"},[r("el-steps",{attrs:{direction:"vertical"}},[r("el-step",{attrs:{title:""}},[r("div",{staticClass:"first-step",attrs:{slot:"description"},slot:"description"},[r("span",[e._v("下载门店导入模板，批量填写门店信息")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.downloadFile}},[e._v("下载")])],1)]),e._v(" "),r("el-step",{attrs:{title:""}},[r("div",{staticClass:"first-step",attrs:{slot:"description"},slot:"description"},[r("span",[e._v("上传填写好的门店信息")]),e._v(" "),r("el-upload",{staticClass:"upload-demo",attrs:{name:"uploadFile",action:"123","show-file-list":!1,"on-success":e.handleTextSuccess,"before-upload":e.beforeTextUpload}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传")])],1),e._v(" "),r("b",[e._v(e._s(e.excelName))]),e._v(" "),r("p",[e._v("文件格式必须为xlsx格式")])],1)])],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.uuIdFlagBool,expression:"uuIdFlagBool"}],staticClass:"progress-wrap"},[r("div",{staticClass:"progress-step"},[r("el-progress",{attrs:{percentage:e.processData}})],1),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.errorProcessBool,expression:"errorProcessBool"}],staticClass:"error-tip"},[e._v("部分门店导入错误，请到错误日志查看错误记录")])])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:3==e.activeitem,expression:"activeitem==3"}],staticClass:"right-box"},[r("div",{staticClass:"top-wrap clearfix"},[r("div",{staticClass:"error-num fl"},[e._v("导入总条数："+e._s(e.total)+"条，成功导入"+e._s(e.success)+"条，"),r("span",[e._v("错误"+e._s(e.error)+"条")])]),e._v(" "),r("div",{staticClass:"import-btn fr"},[r("el-button",{attrs:{type:"primary"},on:{click:e.importErrorData}},[e._v("导出错误记录")])],1)]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%","font-size":"12px"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"errorMessage",label:"错误提示",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(t.row.errorMessage))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"storeGroupName",label:"门店分组",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeArea",label:"门店面积",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeName",label:"门店名称",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeCode",label:"门店code",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeType",label:"门店类型",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"conactsPhone",label:"门店电话",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"province",label:"省",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"city",label:"市",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"region",label:"区",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeAddress",label:"门店详细地址","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"longitude",label:"经度",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"latitude",label:"纬度",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"clerkName",label:"店长",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"clerkGender",label:"性别",width:"60"}}),e._v(" "),r("el-table-column",{attrs:{prop:"clerkCode",label:"店长编码",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号码",width:"100"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.totalCount>0,expression:"totalCount>0"}],staticClass:"pagination"},[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[20,40,60,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1),e._v(" "),r("vue-gic-footer")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bind-info"},[t("p",[this._v("导入的门店将存于暂存区，若要上线请在批量导入后批量发布上线")]),this._v(" "),t("p",[this._v("导入门店时请导入与ERP门店code一致的门店，如果出现不一致的，gic拉取ERP门店的数据时，将自动将ERP中不存在的门店清除")])])}]};var c=r("C7Lr")(s,l,!1,function(e){r("eLcw")},"data-v-03fca212",null);t.default=c.exports},ihQc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("EwKy"),o=r.n(a),i={name:"navpath",data:function(){return{curitem:2,linkHref:""}},props:{activeitem:{type:Number,default:2},navpath:{type:Array,default:[]},navtab:{type:Array,default:[]}},mounted:function(){this.linkHref=o.a.config+"/report/#/memberSummary"},methods:{changeTab:function(e){this.curitem=e.tab,this.$emit("getCurTab",e.tab)}},watch:{activeitem:function(e,t){this.curitem=e}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navbarwrap boxshow"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("span",{staticClass:"el-breadcrumb__item no-link link-active"},[r("a",{staticClass:"el-breadcrumb__inner is-link",attrs:{href:e.linkHref,role:"link"}},[e._v("首页")]),r("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[e._v("/")])]),e._v(" "),e._l(e.navpath,function(t,a){return r("el-breadcrumb-item",{key:a,staticClass:"no-link",class:{"link-active":""!=t.path&&a!=e.navpath.length-1},attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])})],2),e._v(" "),r("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]),e._v(" "),r("div",{staticClass:"navbar clearfix"},[r("div",{staticClass:"fl"},e._l(e.navtab,function(t,a){return r("a",{key:a,staticClass:"navbar-item",class:e.curitem===t.tab?"curnavbar":"",on:{click:function(r){return e.changeTab(t)}}},[e._v(e._s(t.name)+"\n        "),"特例广告位"==t.name?r("el-popover",{staticClass:"item",attrs:{placement:"top",width:"200",trigger:"hover",title:"",content:"针对特定的会员单独设置广告位"}},[r("i",{staticClass:"tooltip-icon el-icon-question",attrs:{slot:"reference"},slot:"reference"})]):e._e()],1)}),0)])],1)},staticRenderFns:[]};var s=r("C7Lr")(i,n,!1,function(e){r("WYmP")},"data-v-8ccefb64",null);t.default=s.exports},qFr1:function(e,t,r){"use strict";var a=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return a.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}});