webpackJsonp([158],{L1Vi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h={name:"selectAll",props:{sendSelectData:{type:Object,default:{}},index:{type:Number,default:0}},data:function(){return{isIndeterminate:!1,checkAll:!1,selectArr:[],selectObj:{},sendSelected:[],hasRight:[],loading:!1}},created:function(){},mounted:function(){this.defaultSelect()},methods:{defaultSelect:function(){var e=this;this.selectArr=[],this.sendSelected=[];var t=0;if(this.hasRight=[],this.sendSelectData.childList.forEach(function(i){if(e.hasRight.push(i.hasRight),1==i.hasRight){t++,e.selectArr.push(i.rightId);var h={};h.rightId=i.rightId,h.rightType=i.rightType,e.sendSelected.push(h)}}),-1!=this.hasRight.indexOf("1")||1==this.sendSelectData.hasRight){var i={};i.rightId=this.sendSelectData.rightId,i.rightType=this.sendSelectData.rightType,this.sendSelected.push(i)}t>0&&t<this.sendSelectData.childList.length&&(this.isIndeterminate=!0),t==this.sendSelectData.childList.length&&1==this.sendSelectData.hasRight&&(this.checkAll=!0,this.isIndeterminate=!1),this.$emit("sendDataToFather",{index:this.index,data:this.sendSelected})},handleCheckAllChange:function(e){var t=this;this.sendSelected=[];var i=[];if(this.sendSelectData.childList.forEach(function(e){i.push(e.rightId)}),this.selectArr=e?i:[],this.isIndeterminate=!1,e){var h={};h.rightId=this.sendSelectData.rightId,h.rightType=this.sendSelectData.rightType,this.sendSelected.push(h),this.sendSelectData.childList.forEach(function(e){var i={};i.rightId=e.rightId,i.rightType=e.rightType,t.sendSelected.push(i)})}this.$emit("sendDataToFather",{index:this.index,data:this.sendSelected})},handleCheckedCitiesChange:function(e){var t,i=this,h=e.length,s=this.sendSelectData.childList.length;(this.checkAll=h===s,this.isIndeterminate=h>0&&h<s,this.sendSelected=[],h>0)?h!=s?((t={}).rightId=this.sendSelectData.rightId,t.rightType=this.sendSelectData.rightType,this.sendSelected.push(t),e.forEach(function(e,t){i.sendSelectData.childList.forEach(function(t,h){if(e==t.rightId){var s={};s.rightId=t.rightId,s.rightType=t.rightType,i.sendSelected.push(s)}})})):((t={}).rightId=this.sendSelectData.rightId,t.rightType=this.sendSelectData.rightType,this.sendSelected.push(t),this.sendSelectData.childList.forEach(function(e){var t={};t.rightId=e.rightId,t.rightType=e.rightType,i.sendSelected.push(t)})):this.sendSelected=[];this.$emit("sendDataToFather",{index:this.index,data:this.sendSelected})}},components:{}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"func-wrap"},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),i("div",{staticClass:"func-list"},[i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.selectArr,callback:function(t){e.selectArr=t},expression:"selectArr"}},e._l(e.sendSelectData.childList,function(t){return i("el-checkbox",{key:t.rightId,attrs:{label:t.rightId}},[e._v(e._s(t.rightName))])}),1)],1)],1)},staticRenderFns:[]};var n=i("C7Lr")(h,s,!1,function(e){i("bqHm")},"data-v-02c268a5",null);t.default=n.exports},bqHm:function(e,t){}});