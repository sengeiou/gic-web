webpackJsonp([74,141],{"3Xzz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("EwKy"),i=r.n(o),n={name:"navpath",data:function(){return{projectName:"gic-web",linkHref:""}},props:{navpath:{type:Array,default:[]},navtip:{type:Boolean,default:!1}},mounted:function(){this.linkHref=i.a.config+"/report/#/memberSummary"},methods:{}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navwrap boxbttom"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("span",{staticClass:"el-breadcrumb__item no-link link-active"},[r("a",{staticClass:"el-breadcrumb__inner is-link",attrs:{href:e.linkHref,role:"link"}},[e._v("首页")]),r("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[e._v("/")])]),e._v(" "),e._l(e.navpath,function(t,o){return r("el-breadcrumb-item",{key:o,staticClass:"no-link",class:{"link-active":""!=t.path&&o!=e.navpath.length-1},attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])})],2),e._v(" "),e.navpath.length>0?r("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]):e._e(),e._v(" "),1==e.navtip?r("div",{staticClass:"navtip navmTop"},[r("i",{staticClass:"el-icon-info navtipcolor"}),e._v("变更导航个数，移动顺序，更换页面链接均需提交小程序审核后重新发布生效，其他变更立即生效。小程序审核请联系品牌项目经理。")]):e._e()],1)},staticRenderFns:[]};var s=r("C7Lr")(n,a,!1,function(e){r("lKih")},"data-v-d2ee4e94",null);t.default=s.exports},"6iV/":function(e,t,r){"use strict";var o=r("H9GB"),i=r("Ml8i"),n=r("qFr1");e.exports={formats:n,parse:i,stringify:o}},EwKy:function(e,t){var r=window.location.origin;e.exports={config:r}},H9GB:function(e,t,r){"use strict";var o=r("JNAD"),i=r("qFr1"),n={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,i,n,a,l,c,u,p,f,m,d){var h=t;if("function"==typeof c)h=c(r,h);else if(h instanceof Date)h=f(h);else if(null===h){if(n)return l&&!d?l(r,s.encoder):r;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||o.isBuffer(h))return l?[m(d?r:l(r,s.encoder))+"="+m(l(h,s.encoder))]:[m(r)+"="+m(String(h))];var v,g=[];if(void 0===h)return g;if(Array.isArray(c))v=c;else{var b=Object.keys(h);v=u?b.sort(u):b}for(var y=0;y<v.length;++y){var S=v[y];a&&null===h[S]||(g=Array.isArray(h)?g.concat(e(h[S],i(r,S),i,n,a,l,c,u,p,f,m,d)):g.concat(e(h[S],r+(p?"."+S:"["+S+"]"),i,n,a,l,c,u,p,f,m,d)))}return g};e.exports=function(e,t){var r=e,a=t?o.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?s.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,p="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,f="boolean"==typeof a.encode?a.encode:s.encode,m="function"==typeof a.encoder?a.encoder:s.encoder,d="function"==typeof a.sort?a.sort:null,h=void 0!==a.allowDots&&a.allowDots,v="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,y,S=i.formatters[a.format];"function"==typeof a.filter?r=(y=a.filter)("",r):Array.isArray(a.filter)&&(b=y=a.filter);var C,x=[];if("object"!=typeof r||null===r)return"";C=a.arrayFormat in n?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var w=n[C];b||(b=Object.keys(r)),d&&b.sort(d);for(var _=0;_<b.length;++_){var F=b[_];p&&null===r[F]||(x=x.concat(l(r[F],F,w,u,p,f?m:null,y,d,h,v,S,g)))}var j=x.join(c),k=!0===a.addQueryPrefix?"?":"";return j.length>0?k+j:""}},J0Oq:function(e,t,r){"use strict";t.__esModule=!0;var o,i=r("rVsN"),n=(o=i)&&o.__esModule?o:{default:o};t.default=function(e){return function(){var t=e.apply(this,arguments);return new n.default(function(e,r){return function o(i,a){try{var s=t[i](a),l=s.value}catch(e){return void r(e)}if(!s.done)return n.default.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}},JNAD:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:n,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var i=t[o],n=i.obj[i.prop],a=Object.keys(n),s=0;s<a.length;++s){var l=a[s],c=n[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:n,prop:l}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],i=0;i<t.length;++i)void 0!==t[i]&&o.push(t[i]);r.obj[r.prop]=o}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",o=0;o<t.length;++o){var n=t.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?r+=t.charAt(o):n<128?r+=i[n]:n<2048?r+=i[192|n>>6]+i[128|63&n]:n<55296||n>=57344?r+=i[224|n>>12]+i[128|n>>6&63]+i[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(o)),r+=i[240|n>>18]+i[128|n>>12&63]+i[128|n>>6&63]+i[128|63&n])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(i.plainObjects||i.allowPrototypes||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=n(t,i)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,n){o.call(t,n)?t[n]&&"object"==typeof t[n]?t[n]=e(t[n],r,i):t.push(r):t[n]=r}),t):Object.keys(r).reduce(function(t,n){var a=r[n];return o.call(t,n)?t[n]=e(t[n],a,i):t[n]=a,t},a)}}},Ml8i:function(e,t,r){"use strict";var o=r("JNAD"),i=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(o),s=a?o.slice(0,a.index):o,l=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var c=0;null!==(a=n.exec(o))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(e,t,r){for(var o=t,i=e.length-1;i>=0;--i){var n,a=e[i];if("[]"===a)n=(n=[]).concat(o);else{n=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(s,10);!isNaN(l)&&a!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(n=[])[l]=o:n[s]=o}o=n}return o}(l,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:n.delimiter,r.depth="number"==typeof r.depth?r.depth:n.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:n.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:n.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:n.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:n.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:n.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:n.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:n.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=o.split(t.delimiter,a),l=0;l<s.length;++l){var c,u,p=s[l],f=p.indexOf("]="),m=-1===f?p.indexOf("="):f+1;-1===m?(c=t.decoder(p,n.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,m),n.decoder),u=t.decoder(p.slice(m+1),n.decoder)),i.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(s),u=0;u<c.length;++u){var p=c[u],f=a(p,s[p],r);l=o.merge(l,f,r)}return o.compact(l)}},XqSp:function(e,t,r){var o=function(){return this}()||Function("return this")(),i=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,n=i&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=r("k9rz"),i)o.regeneratorRuntime=n;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}},"ipg/":function(e,t){},k9rz:function(e,t){!function(t){"use strict";var r,o=Object.prototype,i=o.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=S;var p="suspendedStart",f="suspendedYield",m="executing",d="completed",h={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==o&&i.call(b,a)&&(v=b);var y=_.prototype=x.prototype=Object.create(v);w.prototype=y.constructor=_,_.constructor=w,_[l]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},F(j.prototype),j.prototype[s]=function(){return this},u.AsyncIterator=j,u.async=function(e,t,r,o){var i=new j(S(e,t,r,o));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},F(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},u.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,i){return s.type="throw",s.arg=e,t.next=o,i&&(t.method="next",t.arg=r),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var i=o.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:A(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=r),h}}}function S(e,t,r,o){var i=t&&t.prototype instanceof x?t:x,n=Object.create(i.prototype),a=new N(o||[]);return n._invoke=function(e,t,r){var o=p;return function(i,n){if(o===m)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw n;return D()}for(r.method=i,r.arg=n;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=C(e,t,r);if("normal"===l.type){if(o=r.done?d:f,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=d,r.method="throw",r.arg=l.arg)}}}(e,r,a),n}function C(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function w(){}function _(){}function F(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function j(e){var t;this._invoke=function(r,o){function n(){return new Promise(function(t,n){!function t(r,o,n,a){var s=C(e[r],e,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,n,a)},function(e){t("throw",e,n,a)}):Promise.resolve(c).then(function(e){l.value=e,n(l)},a)}a(s.arg)}(r,o,t,n)})}return t=t?t.then(n,n):n()}}function k(e,t){var o=e.iterator[t.method];if(o===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=C(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,h):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(i.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=r,t.done=!0,t};return n.next=n}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},lC5x:function(e,t,r){e.exports=r("XqSp")},lKih:function(e,t){},qFr1:function(e,t,r){"use strict";var o=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},xdmz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("rVsN"),i=r.n(o),n=r("lC5x"),a=r.n(n),s=r("J0Oq"),l=r.n(s),c=r("3Xzz"),u=r("6iV/"),p={name:"add_special_belong",data:function(){return{projectName:"gic-web",navpath:[{name:"佣金结算",path:""},{name:"佣金结算规则",path:"/brokerage_rule"},{name:"新建特殊归属佣金结算策略",path:""}],ruleForm:{specialStrategyId:"",specialStrategyName:"",applicableChannel:[],visibleCondition:"0",limitCondition:"",productLimitCondition:"",serviceStoreCommissionSettle:!1,serviceStoreGuideShareConstraint:!1,serviceStoreCommissionAmount:0,serviceStoreCommissionCap:0,serviceStoreWidgetId:"",openStoreCommissionSettle:!1,openStoreGuideShareConstraint:!1,openStoreCommissionAmount:0,whenNoServiceStore:[],openStoreCommissionCap:0,openStoreWidgetId:""},rules:{specialStrategyName:[{required:!0,message:"请输入名称",trigger:"blur"}],applicableChannel:[{type:"array",required:!0,message:"请至少选择一个渠道",trigger:"change"}]},sceneValue:"member",useId:"",searchParams:"",sendObj:"",hasSearchData:"",toggleTag:!1,defaltSelected:[],height:500,headerList:["isRealTime","latestUpdateTime","updateType","effectiveStatus","effectiveDate"],effectiveStatus:1,tagGroupIdList:[],memberGroupReRender:!0,uuid:"",optionsStore:[0,1,3,4,5],isAdd:!0,uuid2:"",optionsStore2:[0,1,3,4,5],isAdd2:!0,specialStrategyId:""}},watch:{uuid:function(e){console.log("uuid========>"+e)}},mounted:function(){this.getDetailData()},methods:{getDetailData:function(){var e=this;return l()(a.a.mark(function t(){var r,o,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.specialStrategyId=e.$route.query.id,!e.specialStrategyId){t.next=41;break}return e.navpath[2].name="编辑特殊归属佣金结算策略",t.next=5,e.axios.post("/api-admin/get-commission-settle-rule-special",u.stringify({requestProject:e.projectName,specialStrategyId:e.specialStrategyId}));case 5:if(r=t.sent,0!=(o=r.data).errorCode){t.next=38;break}if((i=o.result).applicableChannel=i.applicableChannel.split(","),i.serviceStoreCommissionSettle=1==i.serviceStoreCommissionSettle,i.serviceStoreGuideShareConstraint=1==i.serviceStoreGuideShareConstraint,i.openStoreCommissionSettle=1==i.openStoreCommissionSettle,i.openStoreGuideShareConstraint=1==i.openStoreGuideShareConstraint,i.whenNoServiceStore=1==i.whenNoServiceStore?["0"]:[],e.uuid=i.serviceStoreWidgetId,e.uuid2=i.openStoreWidgetId,e.isAdd=!1,e.isAdd2=!1,i.visibleCondition=i.visibleCondition.toString(),e.searchParams=i.limitCondition,"0"!=i.visibleCondition){t.next=24;break}t.next=35;break;case 24:if("2"!=i.visibleCondition){t.next=34;break}if(!e.searchParams){t.next=32;break}return e.memberGroupReRender=!1,t.next=29,e.getMemberGroupList(e.searchParams);case 29:e.defaltSelected=t.sent,e.tagGroupIdList=e.defaltSelected,e.$nextTick(function(t){e.memberGroupReRender=!0});case 32:t.next=35;break;case 34:"1"==i.visibleCondition&&(e.useId=i.specialStrategyId,e.hasSearchData=e.searchParams);case 35:e.ruleForm=i,t.next=39;break;case 38:e.$message.error(o.message);case 39:t.next=41;break;case 41:case"end":return t.stop()}},t,e)}))()},getMemberGroupList:function(e){var t=this;return new i.a(function(r,o){t.axios.post("/api-admin/get-member-tag-group-list",u.stringify({requestProject:t.projectName,tagGroupIds:e})).then(function(e){var i=e.data;if(0==i.errorCode){var n=i.result||[];r(n)}else o(i),t.$message.error(i.message)})})},getData:function(){this.$refs.peopleFilter.confirmSet()},findFilter:function(e){this.searchParams=e,this.searchParams},cancelFilter:function(){this.$refs.peopleFilter.cancelSet()},getBackData:function(e){this.sendObj=e},hideBtn:function(){this.toggleTag=!1},editShow:function(){this.toggleTag=!0},editHide:function(){this.toggleTag=!1},handleDataTransferred:function(e){this.tagGroupIdList=e},handleDataLeft:function(e,t){this.tagGroupIdList=e},sureSave:function(e){var t=this,r=this;r.$refs[e].validate(function(e){if(!e)return console.log("error"),!1;if(r.ruleForm.serviceStoreCommissionSettle||r.ruleForm.openStoreCommissionSettle)if(console.log("至少选中了一个"),"0"==r.ruleForm.visibleCondition)r.searchParams="",r.sendObj="",r.saveData();else if("2"==r.ruleForm.visibleCondition)if(r.sendObj="",r.tagGroupIdList&&r.tagGroupIdList.length>0){var o="";r.tagGroupIdList.forEach(function(e){o+=e.memberTagGroupId+","}),r.searchParams=o.substring(0,o.length-1),r.saveData()}else t.$message.error("请选择会员分组");else"1"==r.ruleForm.visibleCondition&&(r.$refs.peopleFilter.confirmSet(),setTimeout(function(){"{}"!=r.searchParams&&r.sendObj&&"{}"!=r.sendObj&&r.saveData()},500));else r.$message.error("服务门店归属佣金结算规则与开卡门店归属佣金结算规则必须开启其中一项")})},saveData:function(){var e=this;this.axios.post("/api-admin/commission-settle-rule-special-save",u.stringify({requestProject:this.projectName,specialStrategyId:this.ruleForm.specialStrategyId,specialStrategyName:this.ruleForm.specialStrategyName,applicableChannel:this.ruleForm.applicableChannel.join(","),visibleCondition:parseInt(this.ruleForm.visibleCondition),limitCondition:this.searchParams,productLimitCondition:this.ruleForm.productLimitCondition,serviceStoreCommissionSettle:this.ruleForm.serviceStoreCommissionSettle?1:0,serviceStoreGuideShareConstraint:this.ruleForm.serviceStoreGuideShareConstraint?1:0,serviceStoreCommissionAmount:this.ruleForm.serviceStoreCommissionAmount,serviceStoreCommissionCap:this.ruleForm.serviceStoreCommissionCap,serviceStoreWidgetId:this.uuid,openStoreCommissionSettle:this.ruleForm.openStoreCommissionSettle?1:0,openStoreGuideShareConstraint:this.ruleForm.openStoreGuideShareConstraint?1:0,openStoreCommissionAmount:this.ruleForm.openStoreCommissionAmount,whenNoServiceStore:this.ruleForm.whenNoServiceStore.length>0?1:0,openStoreWidgetId:this.uuid2,openStoreCommissionCap:this.ruleForm.openStoreCommissionCap,searchParams:this.searchParams,detailParams:this.sendObj})).then(function(t){var r=t.data;0==r.errorCode?(e.$message.success("保存成功"),e.goBack()):e.$message.error(r.message)})},goBack:function(){this.$router.push("/brokerage_rule")}},components:{topNav:c.default}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right-wrap"},[r("topNav",{attrs:{navpath:e.navpath}}),e._v(" "),r("div",{staticClass:"right-content"},[r("div",{staticClass:"right-box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[r("el-form-item",{staticClass:"input-width",attrs:{label:"特殊策略名称",prop:"specialStrategyName"}},[r("dm-input",{attrs:{byteType:1,type:"text",maxlength:16},model:{value:e.ruleForm.specialStrategyName,callback:function(t){e.$set(e.ruleForm,"specialStrategyName",t)},expression:"ruleForm.specialStrategyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"适用渠道",prop:"applicableChannel"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("适用渠道\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"只有适用渠道的订单才会命中该特殊策略"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-checkbox-group",{model:{value:e.ruleForm.applicableChannel,callback:function(t){e.$set(e.ruleForm,"applicableChannel",t)},expression:"ruleForm.applicableChannel"}},[r("el-checkbox",{attrs:{label:"2"}},[e._v("微盟微商城")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"适用人群",prop:"visibleCondition"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("适用人群\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"只有适用人群的消费订单才会命中该特殊策略"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-radio-group",{model:{value:e.ruleForm.visibleCondition,callback:function(t){e.$set(e.ruleForm,"visibleCondition",t)},expression:"ruleForm.visibleCondition"}},[r("el-radio",{attrs:{label:"0"}},[e._v("所有会员")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("会员分组")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("自定义人群")])],1)],1),e._v(" "),"2"==e.ruleForm.visibleCondition?r("div",[e.memberGroupReRender?r("vue-gic-member-group",{ref:"memberGroup",staticClass:"select-people-ad",attrs:{defaltSelected:e.defaltSelected,height:e.height,projectName:e.projectName,headerList:e.headerList,effectiveStatus:e.effectiveStatus},on:{handleDataTransferred:e.handleDataTransferred,handleDataLeft:e.handleDataLeft}}):e._e()],1):e._e(),e._v(" "),"1"==e.ruleForm.visibleCondition?r("div",{staticClass:"select-people-ad"},[r("vue-gic-people",{ref:"peopleFilter",attrs:{projectName:e.projectName,flag:!0,useId:e.useId,hasSearchData:e.hasSearchData,sceneValue:e.sceneValue},on:{findFilter:e.findFilter,getBackData:e.getBackData,editHide:e.editHide,editShow:e.editShow,hideBtn:e.hideBtn}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleTag,expression:"toggleTag"}],staticClass:"people-btn-wrap"},[r("el-row",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getData}},[e._v("确定")]),e._v(" "),r("el-button",{attrs:{size:"small"},on:{click:e.cancelFilter}},[e._v("取消")])],1)],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"服务门店归属佣金结算规则","label-width":"200px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("服务门店归属佣金结算规则\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"消费会员的服务门店的佣金规则配置"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.ruleForm.serviceStoreCommissionSettle,callback:function(t){e.$set(e.ruleForm,"serviceStoreCommissionSettle",t)},expression:"ruleForm.serviceStoreCommissionSettle"}})],1),e._v(" "),e.ruleForm.serviceStoreCommissionSettle?r("div",{staticClass:"form-child"},[r("el-form-item",{attrs:{label:"导购分享约束","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("导购分享约束\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，当订单的分享者为导购时（通过分享者的手机号和导购手机号做匹配识别），将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.ruleForm.serviceStoreGuideShareConstraint,callback:function(t){e.$set(e.ruleForm,"serviceStoreGuideShareConstraint",t)},expression:"ruleForm.serviceStoreGuideShareConstraint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单品佣金额度","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("单品佣金额度\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"佣金细化到单品计算，此处设置每件商品的佣金额度。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-input-number",{attrs:{"controls-position":"right",min:0,max:100,step:.01,precision:2},model:{value:e.ruleForm.serviceStoreCommissionAmount,callback:function(t){e.$set(e.ruleForm,"serviceStoreCommissionAmount",t)},expression:"ruleForm.serviceStoreCommissionAmount"}}),e._v(" %\n            ")],1),e._v(" "),r("el-form-item",{attrs:{label:"单品佣金封顶","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("单品佣金封顶\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"单品佣金封顶额度的设置，一般针对高价值商品做控制。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-input-number",{attrs:{"controls-position":"right",min:0,max:999999.99,step:.01,precision:2},model:{value:e.ruleForm.serviceStoreCommissionCap,callback:function(t){e.$set(e.ruleForm,"serviceStoreCommissionCap",t)},expression:"ruleForm.serviceStoreCommissionCap"}}),e._v(" 元\n            ")],1),e._v(" "),r("el-form-item",{staticClass:"store-wrap",attrs:{label:"适用门店","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("适用门店\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"只有当消费会员的服务门店满足适用门店范围，才执行归属佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("vue-gic-store-new",{ref:"storeNew",attrs:{options:e.optionsStore,uuid:e.uuid,isAdd:e.isAdd},on:{"update:uuid":function(t){e.uuid=t}}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"开卡门店归属佣金结算规则","label-width":"200px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("开卡门店归属佣金结算规则\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"消费会员的开卡门店的佣金规则配置"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.ruleForm.openStoreCommissionSettle,callback:function(t){e.$set(e.ruleForm,"openStoreCommissionSettle",t)},expression:"ruleForm.openStoreCommissionSettle"}})],1),e._v(" "),e.ruleForm.openStoreCommissionSettle?r("div",{staticClass:"form-child"},[r("el-form-item",{attrs:{label:"导购分享约束","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("导购分享约束\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，当订单的分享者为导购时（通过分享者的手机号和导购手机号做匹配识别），将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.ruleForm.openStoreGuideShareConstraint,callback:function(t){e.$set(e.ruleForm,"openStoreGuideShareConstraint",t)},expression:"ruleForm.openStoreGuideShareConstraint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单品佣金额度","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("单品佣金额度\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"佣金细化到单品计算，此处设置每件商品的佣金额度。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-input-number",{attrs:{"controls-position":"right",min:0,max:100,step:.01,precision:2},model:{value:e.ruleForm.openStoreCommissionAmount,callback:function(t){e.$set(e.ruleForm,"openStoreCommissionAmount",t)},expression:"ruleForm.openStoreCommissionAmount"}}),e._v(" %\n              "),r("div",{staticStyle:{"margin-top":"10px"}},[r("el-checkbox",{attrs:{label:"0"},model:{value:e.ruleForm.whenNoServiceStore,callback:function(t){e.$set(e.ruleForm,"whenNoServiceStore",t)},expression:"ruleForm.whenNoServiceStore"}},[e._v("仅当会员无服务门店时生效")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"单品佣金封顶","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("单品佣金封顶\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"单品佣金封顶额度的设置，一般针对高价值商品做控制。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-input-number",{attrs:{"controls-position":"right",min:0,max:999999.99,step:.01,precision:2},model:{value:e.ruleForm.openStoreCommissionCap,callback:function(t){e.$set(e.ruleForm,"openStoreCommissionCap",t)},expression:"ruleForm.openStoreCommissionCap"}}),e._v(" 元\n            ")],1),e._v(" "),r("el-form-item",{staticClass:"store-wrap",attrs:{label:"适用门店","label-width":"140px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("适用门店\n                "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"只有当消费会员的开卡门店满足适用门店范围，才执行归属佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("vue-gic-store-new",{ref:"storeNew2",attrs:{options:e.optionsStore2,uuid:e.uuid2,isAdd:e.isAdd2},on:{"update:uuid":function(t){e.uuid2=t}}})],1)],1):e._e(),e._v(" "),r("el-form-item",[r("el-row",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sureSave("ruleForm")}}},[e._v("保 存")]),e._v(" "),r("el-button",{on:{click:e.goBack}},[e._v("返 回")])],1)],1)],1)],1)]),e._v(" "),r("vue-gic-footer")],1)},staticRenderFns:[]};var m=r("C7Lr")(p,f,!1,function(e){r("ipg/")},"data-v-221fe3bf",null);t.default=m.exports}});